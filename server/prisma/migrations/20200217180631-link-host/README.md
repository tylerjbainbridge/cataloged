# Migration `20200217180631-link-host`

This migration has been generated by Tyler Bainbridge at 2/17/2020, 6:06:31 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Item" DROP COLUMN "collection",
DROP COLUMN "person";

ALTER TABLE "public"."Link" ADD COLUMN "host" text   DEFAULT '';

DROP TABLE "public"."Collection";

DROP TABLE "public"."Person";
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200217150545-soft-delete-items..20200217180631-link-host
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("POSTGRESQL_URL")
 }
 model InviteCode {
   id String @id @default(cuid())
@@ -170,8 +170,9 @@
   description String?
   favicon     String?
   href        String  @default("")
+  host        String? @default("")
   image       String?
   notes       String  @default("")
   title       String?
@@ -204,32 +205,23 @@
   user       User
   files      File[]
 }
-model Collection {
-  id        String   @id @default(cuid())
-  createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt
+// model Collection {
+//   id        String   @id @default(cuid())
+//   createdAt DateTime @default(now())
+//   updatedAt DateTime @updatedAt
-  type String @default(now())
+//   type String @default(now())
-  person Person
+//   person Person
-  user User
+//   user User
-  items Item[]
-}
+//   items Item[]
+// }
-model Person {
-  id        String   @id @default(cuid())
-  createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt
-  name  String @default("")
-  user  User
-  items Item[]
-}
-
 model User {
   id        String   @id @default(cuid())
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
```


