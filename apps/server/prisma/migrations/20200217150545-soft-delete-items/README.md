# Migration `20200217150545-soft-delete-items`

This migration has been generated by Tyler Bainbridge at 2/17/2020, 3:05:45 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
DROP INDEX "public"."GoogleContact.resourceName"

ALTER TABLE "public"."Item" ADD COLUMN "deletedAt" timestamp(3)   ;

ALTER TABLE "public"."GoogleContact" ALTER COLUMN "name" DROP NOT NULL,
ALTER COLUMN "name" DROP DEFAULT;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200216204302-connect-google-contact-to-tiem..20200217150545-soft-delete-items
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("POSTGRESQL_URL")
 }
 model InviteCode {
   id String @id @default(cuid())
@@ -78,10 +78,10 @@
   id        String   @id @default(cuid())
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
-  resourceName String @unique
-  name         String
+  resourceName String
+  name         String?
   email       String?
   otherEmails String[]
@@ -130,14 +130,17 @@
   id        String   @id @default(cuid())
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
+  deletedAt DateTime?
+
   isFavorited Boolean @default(false)
   status      String? @default("NOT_STARTED")
   type        String  @default("")
   date DateTime @default(now())
+
   link Link?
   note Note?
   user User?
   file File?
```


